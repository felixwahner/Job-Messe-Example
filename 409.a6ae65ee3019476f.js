"use strict";(self.webpackChunksandbox=self.webpackChunksandbox||[]).push([[409],{5409:(L,h,r)=>{r.r(h),r.d(h,{KEYBOARD_DID_CLOSE:()=>D,KEYBOARD_DID_OPEN:()=>b,copyVisualViewport:()=>c,keyboardDidClose:()=>i,keyboardDidOpen:()=>y,keyboardDidResize:()=>f,resetKeyboardAssist:()=>g,setKeyboardClose:()=>d,setKeyboardOpen:()=>a,startKeyboardAssist:()=>u,trackViewportChanges:()=>l});var p=r(6991);const b="ionKeyboardDidShow",D="ionKeyboardDidHide";let n={},t={},o=!1;const g=()=>{n={},t={},o=!1},u=e=>{if(p.K.getEngine())K(e);else{if(!e.visualViewport)return;t=c(e.visualViewport),e.visualViewport.onresize=()=>{l(e),y()||f(e)?a(e):i(e)&&d(e)}}},K=e=>{e.addEventListener("keyboardDidShow",s=>a(e,s)),e.addEventListener("keyboardDidHide",()=>d(e))},a=(e,s)=>{O(e,s),o=!0},d=e=>{k(e),o=!1},y=()=>!o&&n.width===t.width&&(n.height-t.height)*t.scale>150,f=e=>o&&!i(e),i=e=>o&&t.height===e.innerHeight,O=(e,s)=>{const v=new CustomEvent(b,{detail:{keyboardHeight:s?s.keyboardHeight:e.innerHeight-t.height}});e.dispatchEvent(v)},k=e=>{const s=new CustomEvent(D);e.dispatchEvent(s)},l=e=>{n=Object.assign({},t),t=c(e.visualViewport)},c=e=>({width:Math.round(e.width),height:Math.round(e.height),offsetTop:e.offsetTop,offsetLeft:e.offsetLeft,pageTop:e.pageTop,pageLeft:e.pageLeft,scale:e.scale})}}]);